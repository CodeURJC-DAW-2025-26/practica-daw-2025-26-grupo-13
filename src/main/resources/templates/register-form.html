{{>header}}

    <!-- Section-->
    <section class="py-5 bg-under-header" style="flex: 1;">
        <div class="container px-4 px-lg-5 mt-5">

            <div class="card mb-4 rounded-3 shadow-sm border-primary">
                <div class="card-header py-3 text-bg-primary border-primary">
                    <h4 class="my-0 fw-normal text-center">Introduce tus datos de usuario</h4>
                </div>
                
                <form method="POST" action="/register" enctype="multipart/form-data">
                    <div class="card-body">
                        {{#registerError}}
                        <div class="alert alert-danger" role="alert">{{registerError}}</div>
                        {{/registerError}}

                        <input type="hidden" name="_csrf" value="{{token}}" />

                        <div class="d-flex justify-content-center mb-3">
                            <img src="/assets/images/no_image.png" alt="Foto de usuario" class="rounded-circle"
                                style="height:80px; width:80px; object-fit:cover;">
                        </div>

                        <div class="mb-3">
                            <label for="imageField" class="form-label">Imagen de perfil:</label>
                            <input type="file" name="imageField" id="imageField" class="form-control" accept=".jpg,.jpeg,.png" />
                        </div>

                        <div class="mb-3">
                            <label for="name" class="form-label">Nombre de usuario:</label>
                            <div class="input-group">
                                <span class="input-group-text">@</span>
                                <input type="text" class="form-control" id="name" name="name" placeholder="Introduce tu nombre de usuario" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="encodedPassword" class="form-label">Contraseña:</label>
                            <input type="password" class="form-control" id="encodedPassword" name="encodedPassword" placeholder="Introduce tu contraseña" required>
                        </div>

                        <div class="d-flex justify-content-center gap-2">
                            <button type="submit" class="btn btn-success btn-lg">Registrarse</button>
                            <a href="/" class="btn btn-secondary btn-lg">Cancelar</a>
                        </div>
                    </div>
                </form>

            </div>

        </div>
    </section>
    <script>
        // Variable que controla si se muestran los botones
        let permitirSeleccion = true; // Cambia a false para ocultar los botones de vista B

        // Función para mostrar/ocultar botones según la condición
        function actualizarBotones() {
            const container = document.getElementById('container');
            if (permitirSeleccion) {
                container.classList.add('mostrar-botones');
            } else {
                container.classList.remove('mostrar-botones');
            }
        }

        // Función que se ejecuta al seleccionar una canica
        function seleccionarCanica(numero) {
            console.log(`Canica ${numero} seleccionada`);
            // Aquí puedes agregar la lógica para enviar al backend
            alert(`Has seleccionado la canica ${numero}`);
        }

        // Actualizar estado inicial
        actualizarBotones();

        // Ejemplo: mostrar botones después de 2 segundos (solo para demostración)
        // setTimeout(() => {
        //     permitirSeleccion = true;
        //     actualizarBotones();
        // }, 2000);
    </script>

    {{>footer}}